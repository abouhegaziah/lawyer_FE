{"ast":null,"code":"var _jsxFileName = \"/home/omarabouhegaziah/Downloads/finandox-reactjs-business-consulting-template-2022-02-21-23-53-23-utc/Finandox/finandox/src/markup/pages/createPost.jsx\";\nimport React, { Component, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Row, Col } from \"react-bootstrap\";\nimport Header from \"../layout/header\";\nimport Footer from \"../layout/footer\";\nimport Brand1 from \"../element/brand1\";\nimport axios from \"axios\";\n\nconst aboutbg = require(\"./../../assets/images/background/image-11.jpg\");\n\nconst touchbg = require(\"./../../assets/images/background/image-8.jpg\");\n\nclass CreatePost extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // Initially, no file is selected\n      selectedFile: null,\n      fileURL: \"\",\n      title: \"\",\n      post: \"\"\n    };\n\n    this.onFileChange = event => {\n      // Update the state\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.onFileUpload = () => {\n      // Create an object of formData\n      const formData = new FormData(); // Update the formData object\n\n      formData.append(\"file\", this.state.selectedFile); // Details of the uploaded file\n\n      console.log(this.state.selectedFile); // Request made to the backend api\n      // Send formData object\n\n      axios.post(\"http://localhost:4000/data/upload\", formData).then(response => {\n        console.log(response.data);\n        this.setState({\n          fileURL: response.data.url\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.fileData = () => {\n      if (this.state.selectedFile) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: this.state.fileURL,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        })), React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, \"File Details:\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, \"File Name: \", this.state.selectedFile.name), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \"File Type: \", this.state.selectedFile.type), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Last Modified:\", \" \", this.state.selectedFile.lastModifiedDate.toDateString()));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, \"Choose before Pressing the Upload button\"));\n      }\n    };\n\n    this.handlePost = () => {\n      console.log(\"here\");\n      const obj = {\n        image: this.state.fileURL,\n        title: this.state.title,\n        post: this.state.post\n      };\n      axios.post(\"http://localhost:4000/blog/addBlog\", obj).then(response => {\n        console.log(response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"section\", {\n      class: \"page-banner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"page-banner-bg\",\n      style: {\n        backgroundImage: \"url(\" + aboutbg + \")\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"bottom-rotten-curve alternate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"auto-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Posts\"), React.createElement(\"ul\", {\n      class: \"bread-crumb clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Home\")), React.createElement(\"li\", {\n      class: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Posts\")))), React.createElement(\"section\", {\n      class: \"services-section-two services-section-careers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"auto-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"wrapper-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"left-column\",\n      style: {\n        backgroundImage: \"url(\" + touchbg + \")\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"sec-title light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"sub-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Get In Touch\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Create Your Post \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), \" Now\")), React.createElement(\"div\", {\n      class: \"contact-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-md-12 form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: \"1%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.onFileChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.onFileUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Upload!\"))), React.createElement(\"div\", {\n      class: \"col-md-12 form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"Enter title here......\",\n      required: \"\",\n      onChange: e => {\n        this.setState({\n          title: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      class: \"fas fa-font\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"col-md-12 form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      name: \"message\",\n      placeholder: \"Enter post here......\",\n      onChange: e => {\n        this.setState({\n          post: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      class: \"fas fa-align-justify\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"col-md-12 form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      class: \"theme-btn btn-style-one\",\n      name: \"submit-form\",\n      onClick: this.handlePost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"btn-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"POST NOW\")))))), React.createElement(\"div\", {\n      class: \"right-column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"services-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"sec-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"sub-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"The Image \"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Image Preview\")), this.fileData()))))));\n  }\n\n}\n\nexport default CreatePost;","map":{"version":3,"sources":["/home/omarabouhegaziah/Downloads/finandox-reactjs-business-consulting-template-2022-02-21-23-53-23-utc/Finandox/finandox/src/markup/pages/createPost.jsx"],"names":["React","Component","useRef","Link","Row","Col","Header","Footer","Brand1","axios","aboutbg","require","touchbg","CreatePost","state","selectedFile","fileURL","title","post","onFileChange","event","setState","target","files","onFileUpload","formData","FormData","append","console","log","then","response","data","url","catch","error","fileData","name","type","lastModifiedDate","toDateString","handlePost","obj","image","render","backgroundImage","backgroundColor","display","alignItems","padding","e","value"],"mappings":"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","sourcesContent":["import React, { Component, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Row, Col } from \"react-bootstrap\";\nimport Header from \"../layout/header\";\nimport Footer from \"../layout/footer\";\nimport Brand1 from \"../element/brand1\";\nimport axios from \"axios\";\n\nconst aboutbg = require(\"./../../assets/images/background/image-11.jpg\");\nconst touchbg = require(\"./../../assets/images/background/image-8.jpg\");\n\nclass CreatePost extends Component {\n  state = {\n    // Initially, no file is selected\n    selectedFile: null,\n    fileURL: \"\",\n    title: \"\",\n    post: \"\",\n  };\n\n  // On file select (from the pop up)\n  onFileChange = (event) => {\n    // Update the state\n    this.setState({ selectedFile: event.target.files[0] });\n  };\n\n  // On file upload (click the upload button)\n  onFileUpload = () => {\n    // Create an object of formData\n    const formData = new FormData();\n\n    // Update the formData object\n    formData.append(\"file\", this.state.selectedFile);\n\n    // Details of the uploaded file\n    console.log(this.state.selectedFile);\n\n    // Request made to the backend api\n    // Send formData object\n    axios\n      .post(\"http://localhost:4000/data/upload\", formData)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({ fileURL: response.data.url });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  fileData = () => {\n    if (this.state.selectedFile) {\n      return (\n        <div>\n          <div>\n            <img src={this.state.fileURL} />\n          </div>\n          <h2>File Details:</h2>\n          <p>File Name: {this.state.selectedFile.name}</p>\n\n          <p>File Type: {this.state.selectedFile.type}</p>\n\n          <p>\n            Last Modified:{\" \"}\n            {this.state.selectedFile.lastModifiedDate.toDateString()}\n          </p>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <br />\n          <h4>Choose before Pressing the Upload button</h4>\n        </div>\n      );\n    }\n  };\n\n  handlePost = () => {\n    console.log(\"here\");\n    const obj = {\n      image: this.state.fileURL,\n      title: this.state.title,\n      post: this.state.post,\n    };\n    axios\n      .post(\"http://localhost:4000/blog/addBlog\", obj)\n      .then((response) => {\n        console.log(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    return (\n      <>\n        <Header />\n        {/* <!-- Page Banner Section --> */}\n        <section class=\"page-banner\">\n          <div\n            className=\"page-banner-bg\"\n            style={{ backgroundImage: \"url(\" + aboutbg + \")\" }}\n          ></div>\n          <div class=\"bottom-rotten-curve alternate\"></div>\n\n          <div class=\"auto-container\">\n            <h1>Posts</h1>\n            <ul class=\"bread-crumb clearfix\">\n              <li>\n                <Link to={\"/#\"}>Home</Link>\n              </li>\n              <li class=\"active\">Posts</li>\n            </ul>\n          </div>\n        </section>\n\n        <section class=\"services-section-two services-section-careers\">\n          <div class=\"auto-container\">\n            <div class=\"wrapper-box\">\n              <div\n                class=\"left-column\"\n                style={{ backgroundImage: \"url(\" + touchbg + \")\" }}\n              >\n                <div class=\"sec-title light\">\n                  <div class=\"sub-title\">Get In Touch</div>\n                  <h2>\n                    Create Your Post <br /> Now\n                  </h2>\n                </div>\n                {/* <!-- Contact Form--> */}\n                <div class=\"contact-form\">\n                  <div class=\"row clearfix\">\n                    <div class=\"col-md-12 form-group\">\n                      <div\n                        style={{\n                          backgroundColor: \"white\",\n                          display: \"flex\",\n                          alignItems: \"center\",\n                          padding: \"1%\",\n                        }}\n                      >\n                        <input type=\"file\" onChange={this.onFileChange} />\n                        <button onClick={this.onFileUpload}>Upload!</button>\n                      </div>\n                    </div>\n\n                    <div class=\"col-md-12 form-group\">\n                      <input\n                        type=\"text\"\n                        name=\"email\"\n                        placeholder=\"Enter title here......\"\n                        required=\"\"\n                        onChange={(e) => {\n                          this.setState({ title: e.target.value });\n                        }}\n                      />\n                      <i class=\"fas fa-font\"></i>\n                    </div>\n\n                    <div class=\"col-md-12 form-group\">\n                      <textarea\n                        name=\"message\"\n                        placeholder=\"Enter post here......\"\n                        onChange={(e) => {\n                          this.setState({ post: e.target.value });\n                        }}\n                      ></textarea>\n                      <i class=\"fas fa-align-justify\"></i>\n                    </div>\n\n                    <div class=\"col-md-12 form-group\">\n                      <button\n                        class=\"theme-btn btn-style-one\"\n                        name=\"submit-form\"\n                        onClick={this.handlePost}\n                      >\n                        <span class=\"btn-title\">POST NOW</span>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"right-column\">\n                <div class=\"services-content\">\n                  <div class=\"sec-title\">\n                    <div class=\"sub-title\">The Image </div>\n                    <h2>Image Preview</h2>\n                  </div>\n                  {this.fileData()}\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </>\n    );\n  }\n}\nexport default CreatePost;\n"]},"metadata":{},"sourceType":"module"}